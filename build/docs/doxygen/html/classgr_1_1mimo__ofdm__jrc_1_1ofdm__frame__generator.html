<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GNU Radio&#39;s MIMO_OFDM_JRC Package: gr::mimo_ofdm_jrc::ofdm_frame_generator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio&#39;s MIMO_OFDM_JRC Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gr::mimo_ofdm_jrc::ofdm_frame_generator Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Create frequency domain OFDM symbols from complex values, add pilots.  
 <a href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ofdm__frame__generator_8h_source.html">ofdm_frame_generator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for gr::mimo_ofdm_jrc::ofdm_frame_generator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.png" usemap="#gr::mimo_5Fofdm_5Fjrc::ofdm_5Fframe_5Fgenerator_map" alt=""/>
  <map id="gr::mimo_5Fofdm_5Fjrc::ofdm_5Fframe_5Fgenerator_map" name="gr::mimo_5Fofdm_5Fjrc::ofdm_5Fframe_5Fgenerator_map">
<area href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator__impl.html" alt="gr::mimo_ofdm_jrc::ofdm_frame_generator_impl" shape="rect" coords="0,112,277,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af63d329fad39af9b80bba9e05e3f55a7"><td class="memItemLeft" align="right" valign="top">typedef boost::shared_ptr&lt; <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html">ofdm_frame_generator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#af63d329fad39af9b80bba9e05e3f55a7">sptr</a></td></tr>
<tr class="separator:af63d329fad39af9b80bba9e05e3f55a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a37d251b1309faf810577c9d9f499d426"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#a37d251b1309faf810577c9d9f499d426">len_tag_key</a> ()=0</td></tr>
<tr class="separator:a37d251b1309faf810577c9d9f499d426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1418a4605b6b37fa38b0a16306d5ea2c"><td class="memItemLeft" align="right" valign="top">virtual const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#a1418a4605b6b37fa38b0a16306d5ea2c">fft_len</a> ()=0</td></tr>
<tr class="separator:a1418a4605b6b37fa38b0a16306d5ea2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2733dc1d11128eafe37ce4b00e47cf94"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#a2733dc1d11128eafe37ce4b00e47cf94">occupied_carriers</a> ()=0</td></tr>
<tr class="separator:a2733dc1d11128eafe37ce4b00e47cf94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad6f655e2a9c72ae33e48898e401e3373"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#af63d329fad39af9b80bba9e05e3f55a7">sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#ad6f655e2a9c72ae33e48898e401e3373">make</a> (int <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#a1418a4605b6b37fa38b0a16306d5ea2c">fft_len</a>, const std::vector&lt; std::vector&lt; int &gt;&gt; &amp;<a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#a2733dc1d11128eafe37ce4b00e47cf94">occupied_carriers</a>, const std::vector&lt; std::vector&lt; int &gt;&gt; &amp;pilot_carriers, const std::vector&lt; std::vector&lt; gr_complex &gt;&gt; &amp;pilot_symbols, const std::vector&lt; std::vector&lt; gr_complex &gt;&gt; &amp;sync_words, int ltf_len, const std::string &amp;<a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#a37d251b1309faf810577c9d9f499d426">len_tag_key</a>=&quot;packet_len&quot;, const bool output_is_shifted=true)</td></tr>
<tr class="memdesc:ad6f655e2a9c72ae33e48898e401e3373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a shared_ptr to a new instance of <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html" title="Create frequency domain OFDM symbols from complex values, add pilots.">mimo_ofdm_jrc::ofdm_frame_generator</a>.  <a href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#ad6f655e2a9c72ae33e48898e401e3373">More...</a><br /></td></tr>
<tr class="separator:ad6f655e2a9c72ae33e48898e401e3373"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Create frequency domain OFDM symbols from complex values, add pilots. </p>
<p>This block turns a stream of complex, scalar modulation symbols into vectors which are the input for an IFFT in an OFDM transmitter. It also supports the possibility of placing pilot symbols onto the carriers.</p>
<p>The carriers can be allocated freely, if a carrier is not allocated, it is set to zero. This allows doing OFDMA-style carrier allocations.</p>
<p>Input: A tagged stream of complex scalars. The first item must have a tag containing the number of complex symbols in this frame. Output: A tagged stream of complex vectors of length fft_len. This can directly be connected to an FFT block. Make sure to set this block to 'reverse' for the IFFT. If <code>output_is_shifted</code> is true, the FFT block must activate FFT shifting, otherwise, set shifting to false. If given, sync words are prepended to the output. Note that sync words are prepended verbatim, make sure they are shifted (or not).</p>
<p>Carrier indexes are always such that index 0 is the DC carrier (note: you should not allocate this carrier). The carriers below the DC carrier are either indexed with negative numbers, or with indexes larger than <code>fft_len/2</code>. Index -1 and index <code>fft_len-1</code> both identify the carrier below the DC carrier.</p>
<p>There are some basic checks in place during initialization which check that the carrier allocation table is valid. However, it is possible to overwrite data symbols with pilot symbols, or provide a carrier allocation that has mismatching pilot symbol positions and -values.</p>
<p>Tags are propagated such that a tag on an incoming complex symbol is mapped to the corresponding OFDM symbol. There is one exception: If a tag is on the first OFDM symbol, it is assumed that this tag should stay there, so it is moved to the front even if a sync word is included (any other tags will never be attached to the sync word). This allows tags to control the transmit timing to pass through in the correct position. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="af63d329fad39af9b80bba9e05e3f55a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63d329fad39af9b80bba9e05e3f55a7">&#9670;&nbsp;</a></span>sptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::shared_ptr&lt;<a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html">ofdm_frame_generator</a>&gt; <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#af63d329fad39af9b80bba9e05e3f55a7">gr::mimo_ofdm_jrc::ofdm_frame_generator::sptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1418a4605b6b37fa38b0a16306d5ea2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1418a4605b6b37fa38b0a16306d5ea2c">&#9670;&nbsp;</a></span>fft_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const int gr::mimo_ofdm_jrc::ofdm_frame_generator::fft_len </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator__impl.html#a103fced6bf7fc1f4080c6f9d06567b52">gr::mimo_ofdm_jrc::ofdm_frame_generator_impl</a>.</p>

</div>
</div>
<a id="a37d251b1309faf810577c9d9f499d426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d251b1309faf810577c9d9f499d426">&#9670;&nbsp;</a></span>len_tag_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string gr::mimo_ofdm_jrc::ofdm_frame_generator::len_tag_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator__impl.html#a36f769b00a0e03f1401279c111d36148">gr::mimo_ofdm_jrc::ofdm_frame_generator_impl</a>.</p>

</div>
</div>
<a id="ad6f655e2a9c72ae33e48898e401e3373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6f655e2a9c72ae33e48898e401e3373">&#9670;&nbsp;</a></span>make()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#af63d329fad39af9b80bba9e05e3f55a7">sptr</a> gr::mimo_ofdm_jrc::ofdm_frame_generator::make </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fft_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>occupied_carriers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>pilot_carriers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; gr_complex &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>pilot_symbols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; gr_complex &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>sync_words</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ltf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>len_tag_key</em> = <code>&quot;packet_len&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>output_is_shifted</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a shared_ptr to a new instance of <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html" title="Create frequency domain OFDM symbols from complex values, add pilots.">mimo_ofdm_jrc::ofdm_frame_generator</a>. </p>
<p>To avoid accidental use of raw pointers, <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html" title="Create frequency domain OFDM symbols from complex values, add pilots.">mimo_ofdm_jrc::ofdm_frame_generator</a>'s constructor is in a private implementation class. <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html#ad6f655e2a9c72ae33e48898e401e3373" title="Return a shared_ptr to a new instance of mimo_ofdm_jrc::ofdm_frame_generator.">mimo_ofdm_jrc::ofdm_frame_generator::make</a> is the public interface for creating new instances. </p>

</div>
</div>
<a id="a2733dc1d11128eafe37ce4b00e47cf94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2733dc1d11128eafe37ce4b00e47cf94">&#9670;&nbsp;</a></span>occupied_carriers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;std::vector&lt;int&gt; &gt; gr::mimo_ofdm_jrc::ofdm_frame_generator::occupied_carriers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator__impl.html#a28069bb233d21c5008725214ceb8c3f6">gr::mimo_ofdm_jrc::ofdm_frame_generator_impl</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ofdm__frame__generator_8h_source.html">ofdm_frame_generator.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacegr.html">gr</a></li><li class="navelem"><a class="el" href="namespacegr_1_1mimo__ofdm__jrc.html">mimo_ofdm_jrc</a></li><li class="navelem"><a class="el" href="classgr_1_1mimo__ofdm__jrc_1_1ofdm__frame__generator.html">ofdm_frame_generator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
